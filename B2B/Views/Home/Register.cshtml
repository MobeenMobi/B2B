@model B2B.ViewModels.RegisterViewModel;
@{
	Layout = null;
}
@{
	Layout = ""; // works in some ASP.NET setups where null is ignored
}

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Register</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
	<style>
		label span.required {
			color: red;
		}
	</style>
</head>
<body class="bg-light d-flex align-items-center justify-content-center">
	<div class="card p-4 shadow" style="background-color:#89CFF0; color:white; max-width:600px; width:100%;">
		<h4 class="text-center mb-4">Register</h4>
		<ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist">
			<li class="nav-item" role="presentation">
				<button class="nav-link active" id="step1-tab" data-bs-toggle="pill" data-bs-target="#step1" type="button" role="tab">● Business Particular</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="nav-link" id="step2-tab" data-bs-toggle="pill" data-bs-target="#step2" type="button" role="tab">● Bank Details</button>
			</li>
			<li class="nav-item" role="presentation">
				<button class="nav-link" id="step3-tab" data-bs-toggle="pill" data-bs-target="#step3" type="button" role="tab">● Person In Charge</button>
			</li>
		</ul>
		<form method="post" action="/Home/Register">
			<div class="tab-content" id="pills-tabContent">
				<div class="tab-pane fade show active" id="step1" role="tabpanel">
					<div class="mb-3">
						<label>Company / Institution Name <span class="required">*</span></label>
						<input asp-for="Company.CompanyName" class="form-control" required/>
					</div>

					<div class="mb-3">
						<label>Registration Number <span class="required">*</span></label>
						<input asp-for="Company.RegistrationNumber" class="form-control" required/>
					</div>

					<div class="mb-3">
						<label>Date of Incorporation <span class="required">*</span></label>
						<input asp-for="Company.DateOfIncorporation" type="date" class="form-control" required/>
					</div>

					<div class="mb-3">
						<label>Business / Industry Type <span class="required">*</span></label>
						<select asp-for="Company.BusinessType" class="form-control" required>
							<option value="NGO (Association/Club/Society)">MY - NGO (Association/Club/Society)</option>
							<option value="Partnership (2 to 20 Owners)">MY - Partnership (2 to 20 Owners)</option>
							<option value="Private Limited (Sdn. Bhd. Corporation)">MY - Private Limited (Sdn. Bhd. Corporation)</option>
							<option value="Public Listed Corporation">MY - Public Listed Corporation</option>
							<option value="Sole Proprietorship (One Owner)">MY - Sole Proprietorship (One Owner)</option>
						</select>
					</div>

					<div class="mb-3">
						<label>Nature of Business <span class="required">*</span></label>
						<select asp-for="Company.NatureOfBusiness" class="form-control" required>
							<option value="Agriculture/Forestry/Logging">Agriculture/Forestry/Logging</option>
							<option value="Amusement & Recreation Services">Amusement & Recreation Services</option>
							<option value="Building Society">Building Society</option>
							<option value="Business Services">Business Services</option>
							<option value="Construction">Construction</option>
							<option value="Education">Education</option>
							<option value="Finance">Finance</option>
							<option value="Government">Government</option>
							<option value="Health and Social Work">Health and Social Work</option>
							<option value="Hotel">Hotel</option>
							<option value="Household">Household</option>
							<option value="Import/Export">Import/Export</option>
							<option value="Information and Communication">Information and Communication</option>
							<option value="Insurance">Insurance</option>
							<option value="International Bodies">International Bodies</option>
							<option value="Legal">Legal</option>
						</select>

					</div>

					<div class="mb-3">
						<label>Short Business Description <span class="required">*</span></label>
						<input asp-for="Company.ShortBusinessDescription" class="form-control" placeholder="eg: Hajo Agent" />
					</div>

					<div class="mb-3">
						<label>Company Email</label>
						<input asp-for="Company.CompanyEmail" class="form-control"  />
					</div>

					<div class="mb-3">
						<label>Company Website</label>
						<input asp-for="Company.CompanyWebsite" type="url"  class="form-control" />
					</div>

					<div class="mb-3">
						<label>Phone No.</label>
						<input asp-for="Company.PhoneNo" class="form-control" required />
					</div>

					<div class="mb-3">
						<label>Company / Organization / Mailing Address <span class="required">*</span></label>
						<input asp-for="Company.AddressLine1" placeholder="Address line 1" class="form-control mb-2" required />
						<input asp-for="Company.AddressLine2" placeholder="Address line 2 (Optional)" class="form-control mb-2" />
						<input asp-for="Company.AddressLine3" placeholder="Address line 3 (Optional)" class="form-control" />
					</div>

					<div class="mb-3">
						<label>City <span class="required">*</span></label>
						<input asp-for="Company.City" class="form-control" required />

					</div>

					<div class="mb-3">
						<label>Postcode <span class="required">*</span></label>
						<input asp-for="Company.Postcode" class="form-control" required />
					</div>

					<div class="mb-3">
						<label>State <span class="required">*</span></label>
							<select asp-for="Company.State" class="form-control" required>
							<option value="Johor">Johor</option>
							<option value="Kedah">Kedah</option>
							<option value="Kelantan">Kelantan</option>
							<option value="Malacca">Malacca</option>
							<option value="Negeri Sembilan">Negeri Sembilan</option>
							<option value="Pahang">Pahang</option>
							<option value="Penang">Penang</option>
							<option value="Perak">Perak</option>
							<option value="Perlis">Perlis</option>
							<option value="Sabah">Sabah</option>
							<option value="Sarawak">Sarawak</option>
							<option value="Selangor">Selangor</option>
							<option value="Terengganu">Terengganu</option>
							<!-- Federal Territories -->
							<option value="Kuala Lumpur">Kuala Lumpur</option>
							<option value="Labuan">Labuan</option>
							<option value="Putrajaya">Putrajaya</option>
						</select>
					</div>

					<div class="mb-3">
						<label>Country <span class="required">*</span></label>
						<input asp-for="Company.Country" class="form-control" value="Malaysia" disabled required />
					</div>

					<button class="btn btn-primary w-100" type="button" onclick="validateStep(1, 2)">Next</button>
				</div>
				<div class="tab-pane fade" id="step2" role="tabpanel">
					<div class="mb-3">
						<label>Bank <span class="required">*</span></label>
							<select asp-for="Bank.Bank" id="Bank" class="form-control" required>
							<option value="">-- Select Bank --</option>
							<option value="Affin Bank Berhad">Affin Bank Berhad</option>
							<option value="Agrobank Malaysia">Agrobank Malaysia</option>
							<option value="Al Rajhi Bank (Malaysia)">Al Rajhi Bank (Malaysia)</option>
							<option value="Alliance Bank Malaysia Berhad">Alliance Bank Malaysia Berhad</option>
							<option value="AmBank Group Berhad (AmBank)">AmBank Group Berhad (AmBank)</option>
							<option value="Bangkok Bank Berhad (Malaysia)">Bangkok Bank Berhad (Malaysia)</option>
							<option value="Bank Islam Malaysia Berhad">Bank Islam Malaysia Berhad</option>
							<option value="Bank Muamalat Malaysia Berhad">Bank Muamalat Malaysia Berhad</option>
							<option value="Bank of China (Malaysia) Berhad">Bank of China (Malaysia) Berhad</option>
							<option value="Bank Rakyat Malaysia Berhad">Bank Rakyat Malaysia Berhad</option>
							<option value="Bank Simpanan Nasional (BSN)">Bank Simpanan Nasional (BSN)</option>
							<option value="BNP Paribas Malaysia Berhad">BNP Paribas Malaysia Berhad</option>
							<option value="CIMB Group Holdings Berhad (CIMB)">CIMB Group Holdings Berhad (CIMB)</option>
							<option value="Citibank Berhad (Malaysia)">Citibank Berhad (Malaysia)</option>
							<option value="Deutsche Bank (Malaysia) Berhad">Deutsche Bank (Malaysia) Berhad</option>
							<option value="Hong Leong Bank Berhad">Hong Leong Bank Berhad</option>
							<option value="HSBC Bank Malaysia Berhad">HSBC Bank Malaysia Berhad</option>
							<option value="ICBC (Malaysia) Berhad (Industrial &amp; Commercial Bank of China Malaysia)">ICBC (Malaysia) Berhad (Industrial &amp; Commercial Bank of China Malaysia)</option>
							<option value="Malayan Banking Berhad (Maybank)">Malayan Banking Berhad (Maybank)</option>
							<option value="MBSB Bank Berhad">MBSB Bank Berhad</option>
							<option value="OCBC Bank (Malaysia) Berhad">OCBC Bank (Malaysia) Berhad</option>
							<option value="Public Bank Berhad">Public Bank Berhad</option>
							<option value="RHB Bank Berhad">RHB Bank Berhad</option>
							<option value="Standard Chartered Bank Malaysia">Standard Chartered Bank Malaysia</option>
							<option value="United Overseas Bank (Malaysia) (UOB Malaysia)">United Overseas Bank (Malaysia) (UOB Malaysia)</option>
						</select>

						</div>
					<div class="mb-3"><label>Bank Account Holder Name <span class="required">*</span></label><input asp-for="Bank.AccountHolder" class="form-control" required /></div>
					<div class="mb-3"><label>Bank Account Number <span class="required">*</span></label><input asp-for="Bank.AccountNumber" class="form-control" required /></div>
					<button class="btn btn-secondary w-100 mb-2" type="button" onclick="nextStep(1)">Back</button>
					<button class="btn btn-primary w-100" type="button" onclick="validateStep(2, 3)">Next</button>
				</div>
				<div class="tab-pane fade" id="step3" role="tabpanel">
					<div class="mb-3"><label class="form-label">Control Option <span class="required">*</span></label>
						<div class="form-check form-check-inline">
							<input asp-for="User.ControlOption" type="radio" class="form-check-input" required />
						<label class="form-check-label">Single Control</label></div><div class="form-check form-check-inline">
							<input class="form-check-input" type="radio" name="ControlOption" value="Dual">
							<label class="form-check-label">Dual Control</label></div></div>
					<div class="mb-3"><label class="form-label">First Name <span class="required">*</span></label>
						<input asp-for="User.FirstName" class="form-control" required />
					</div>
					<div class="mb-3"><label class="form-label">Middle Name</label>
						<input asp-for="User.MiddleName" class="form-control" />
					</div>
					<div class="mb-3"><label class="form-label">Last Name</label>
						<input asp-for="User.LastName" class="form-control" />
					</div>
					<div class="mb-3"><label class="form-label">Nationality <span class="required">*</span></label>
							<select asp-for="User.Nationality" class="form-control" required>
							<option value="">Select nationality...</option>
							<option>Malaysia</option>
							<option>Pakistan</option>
							<option>India</option>
						</select>
						</div>
					<div class="mb-3"><label class="form-label">Date of Birth <span class="required">*</span></label>
						<input asp-for="User.DateOfBirth" type="date" class="form-control" required/>
					</div>
					<div class="mb-3"><label class="form-label">Gender <span class="required">*</span></label>
						<div class="form-check form-check-inline">
							<input asp-for="User.Gender" class="form-check-input" type="radio" value="Female" required />
						<label class="form-check-label">Female</label></div>
						<div class="form-check form-check-inline">
						<input class="form-check-input" type="radio" name="Gender" value="Male">
						<label class="form-check-label">Male</label>
					</div>
					</div>
					<div class="mb-3"><label class="form-label">Email <span class="required">*</span></label><input type="email" class="form-control" name="Email" required /></div>
					<div class="mb-3"><label class="form-label">ID Type <span class="required">*</span></label><select class="form-select" name="IDType" required><option>MyKad</option><option>Passport</option></select></div>
					<div class="mb-3"><label class="form-label">ID Number <span class="required">*</span></label><input class="form-control" name="IDNumber" required /></div>
					<div class="mb-3"><label class="form-label">Country Phone Prefix <span class="required">*</span></label><input class="form-control" name="PhonePrefix" value="+60" required /></div>
					<div class="mb-3"><label class="form-label">Phone Number <span class="required">*</span></label><input class="form-control" name="PhoneNumber" required /></div>
					<div class="mb-3"><label class="form-label">Address <span class="required">*</span></label><textarea class="form-control" name="Address" rows="2"></textarea></div>
					<div class="mb-3"><label class="form-label">Country <span class="required">*</span></label><input class="form-control" name="Country" required /></div>
					<div class="mb-3"><label class="form-label">City <span class="required">*</span></label><input class="form-control" name="City" required /></div>
					<div class="mb-3"><label class="form-label">Postcode <span class="required">*</span></label><input class="form-control" name="Postcode" required /></div>
					<div class="mb-3"><label class="form-label">State <span class="required">*</span></label><input class="form-control" name="State" required /></div>
					<div class="mb-3"><label class="form-label">Occupation <span class="required">*</span></label><input class="form-control" name="Occupation" required /></div>
					<div class="mb-3"><label class="form-label">Approver Name</label><input class="form-control" name="ApproverName" required /></div>
					<div class="mb-3"><label class="form-label">Password <span class="required">*</span></label><input type="password" class="form-control" name="Password" required /></div>
					<div class="mb-3"><label class="form-label">Re-type Password <span class="required">*</span></label><input type="password" class="form-control" name="RePassword" required /></div>
					<div class="mb-3"><label class="form-label">Upload Documents</label><input class="form-control" type="file" name="Documents[]" multiple /></div>
					<div class="form-check mb-3"><input class="form-check-input" type="checkbox" name="Agree" required><label class="form-check-label">I agree to the Terms and Conditions</label></div>

					<button class="btn btn-secondary w-100 mb-2" type="button" onclick="nextStep(2)">Back</button>
					<button class="btn btn-success w-100" type="submit">Submit</button>
				</div>
			</div>
		</form>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<script>
		function validateStep(currentStep, nextStep) {
			let isValid = true;

			// Get all required input fields inside the current step
			document.querySelectorAll(`#step${currentStep} input[required], #step${currentStep} select[required], #step${currentStep} textarea[required]`)
				.forEach(input => {
					if (!input.value.trim()) {
						input.classList.add("is-invalid");  // Highlight as error
						isValid = false;
					} else {
						input.classList.remove("is-invalid"); // Remove error if fixed
					}
				});

			if (isValid) {
				// ✅ If valid, move to next step
				var tabTrigger = new bootstrap.Tab(document.querySelector('#step' + nextStep + '-tab'));
				tabTrigger.show();
				window.scrollTo({ top: 0, behavior: "smooth" });
			}
		}

	</script>
</body>
</html>